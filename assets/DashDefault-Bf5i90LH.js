import{l as X,_ as Z,B as ee,a as te}from"./ThemeSetting.vue_vue_type_style_index_0_lang-DlydoGL5.js";import{u as T}from"./index-cF6Tv_6H.js";import{d as x,c as h,n as d,a as i,r as k,o as c,b as V,w as B,e as a,f as g,u as t,t as y,F as j,g as r,h as E,i as ne,j as ae,k as f,l as N,m as oe,p as q,q as se,s as ie}from"./index-CvvKvLPo.js";import{u as le}from"./http-BFgc5KR4.js";import{l as re}from"./index-TjCxX7sJ.js";import{h as L}from"./moment-C5S46NFB.js";const Y=x({__name:"TopNavAnchor",props:{icon:{type:String,required:!0},textTheme:{type:String}},setup(o){return(m,e)=>{const u=k("font-awesome-icon");return c(),h("a",{href:"javascript:void(0)",class:d([o.textTheme?o.textTheme:"text-light","topnav-item"])},[i(u,{icon:o.icon},null,8,["icon"])],2)}}}),ce={key:1,href:"javascript:void(0)",class:"navitem-item","active-class":"navitem-active"},O=x({__name:"NavItem",props:{icon:{type:String,required:!0},menuName:{type:String,required:!0},redirect:{type:String,required:!0},textTheme:{type:String,default:"mtext-light"},isNegative:{type:Boolean,required:!1}},setup(o){const m=T();return(e,u)=>{const s=k("font-awesome-icon"),v=k("router-link");return o.redirect?(c(),V(v,{key:0,to:o.redirect,class:"navitem-item","active-class":"navitem-active"},{default:B(()=>[a("div",{style:g({background:`linear-gradient(-310deg,${t(m).accentColor},${t(m).accentColorSecondary})`})},[i(s,{icon:o.icon},null,8,["icon"])],4),a("span",{class:d(o.isNegative?"mtext-danger":o.textTheme)},y(o.menuName),3)]),_:1},8,["to"])):(c(),h("a",ce,[a("div",{style:g({background:`linear-gradient(-310deg,${t(m).accentColor},${t(m).accentColorSecondary})`})},[i(s,{icon:o.icon},null,8,["icon"])],4),a("span",{class:d(o.isNegative?"mtext-danger":o.textTheme)},y(o.menuName),3)]))}}}),me=x({__name:"DashSidebarMenu",props:{textTheme:{type:String,required:!0}},emits:["clickSignOut"],setup(o,{emit:m}){const e=T(),u=()=>{e.notifyConfirm("Logout","Anda yakin ingin keluar?","Ya","Batal",async()=>{try{await le().clientLogout().then(s=>{e.notifyAlertSuccess("Berhasil","Anda telah keluar","Oke!",()=>{window.location.href="/login"})}).catch(s=>{e.notifyAlertSuccess("Gagal",s,"Oke!",()=>{})})}catch(s){console.log(s),e.notifyAlertSuccess("Gagal",s,"Oke!",()=>{})}},()=>{})};return(s,v)=>(c(),h(j,null,[i(O,{"text-theme":`${o.textTheme}`,icon:"home",redirect:"/dashboard","menu-name":"Dashboard"},null,8,["text-theme"]),a("div",{style:g({color:t(e).accentColor}),class:"aside-menu-divider"},"FOL",4),i(O,{"text-theme":`${o.textTheme}`,icon:"chart-line",redirect:"/fol/monitoring","menu-name":"Monitoring FOL"},null,8,["text-theme"]),a("div",{style:g({color:t(e).accentColor}),class:"aside-menu-divider"},"Keluar",4),i(O,{"text-theme":`${o.textTheme}`,icon:"sign-out",redirect:"","is-negative":!0,"menu-name":"Sign-out",onClick:u},null,8,["text-theme"])],64))}}),ue={style:{display:"flex","flex-flow":"row-nowrap","justify-content":"flex-start",gap:"1rem","align-items":"center"}},de=["src"],he={class:"nav-gr"},ve={class:"nav-crumb"},ge={class:"nav-gr"},pe={class:"aside-header"},fe={class:"aside-menu"},ye={class:"copyright"},ke=x({__name:"DashNavLight",props:{theme:{type:String}},setup(o){const m=oe(),e=T(),u=re("https://chatbot.findingoillosses.com",{path:"/socket.io"});u.on("connect",()=>{e.notifyShow("Connected to FOL AI")});const s=r(!1),v=r(!1),_=r(!1);r(!0);const F=()=>{s.value=window.innerWidth<768},H=n=>{console.log(n)},W=()=>{_.value=!_.value},M=()=>{v.value=!v.value},D=r(0),z=()=>{D.value=window.scrollY||window.pageYOffset};E(()=>{window.addEventListener("scroll",z)});const P=()=>{const n=document.getElementById("mainview");n&&n.scrollIntoView({behavior:"smooth",block:"start"})},U=()=>{e.asideToggle()};ne(()=>s.value,()=>{s.value&&e.notifyAlertError("Peringatan","Tidak sarankan dijalankan pada perangkat Mobile karena dapat mempengaruhi performa","Tutup",()=>{})});const C=r([{id:1,mychat:!1,name:"FOL AI",lastMessage:"Halo, Wak! Aku FOL AI siap bantu analisis data!",time:L().format("hh:mm")}]),S=r([]),$=r(null),G=()=>{ie(()=>{$.value&&($.value.scrollTop=$.value.scrollHeight)})},J=r("");r("");const I=r(null);u.on("botReplyChunk",n=>{const l=C.value.length-1;C.value[l].lastMessage+=n,G()}),u.on("botReply",n=>{C.value.push({mychat:!1,name:"Me",type:"text",lastMessage:n,image:null,time:L().format("hh:mm")}),S.value.push({role:"system",content:n})}),u.on("botReplyEnd",n=>{S.value.push({role:"system",content:n}),console.log(S.value)}),u.on("formattedReply",n=>{}),E(()=>{var n;F(),window.addEventListener("resize",F),(n=I.value)==null||n.addEventListener("paste",R)}),ae(()=>{var n;(n=I.value)==null||n.removeEventListener("paste",R)});const K=r(null),R=n=>{var p;const l=(p=n.clipboardData)==null?void 0:p.items;if(l){for(const w of l)if(w.type.includes("image")){const b=w.getAsFile();if(!b)return;const A=new FileReader;A.onload=()=>{const Q=A.result;J.value=Q,K.value=b},A.readAsDataURL(b)}}};return(n,l)=>{const p=k("font-awesome-icon"),w=k("router-link");return c(),h(j,null,[a("nav",{class:d([`${t(e).asideVisible?"nav-main":"nav-main-full"}`,t(e).mTheme,s.value?"topnav-mobile":""])},[a("div",ue,[s.value?f("",!0):(c(),h("button",{key:0,onClick:U,class:d([[`${t(e).textTheme}`],"side-hide"])},[i(p,{icon:t(e).asideVisible?"arrow-left":"bars"},null,8,["icon"])],2)),t(e).asideVisible?f("",!0):(c(),h("img",{key:1,src:t(X),class:"prt-1"},null,8,de))]),a("div",he,[a("div",ve,[a("div",{class:d(t(e).textTheme)},[i(w,{to:"/dashboard",style:g({color:t(e).accentColor}),class:"nav-crumb-link"},{default:B(()=>[a("span",{style:g({background:t(e).gradientValue,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text"})},y(t(q).appName),5)]),_:1},8,["style"]),N(" ··· "+y(t(m).name),1)],2),a("div",{class:d(t(e).textTheme)},y(t(m).name),3)])]),a("div",ge,[s.value?(c(),V(Y,{key:0,onClick:M,icon:"bars","text-theme":t(e).textTheme},null,8,["text-theme"])):f("",!0),i(Z,{style:{"margin-right":"5px"}}),i(Y,{onClick:W,icon:"gear","text-theme":t(e).textTheme},null,8,["text-theme"])])],2),t(e).asideVisible?(c(),h("aside",{key:0,class:d(["aside-main",t(e).mTheme,s.value?"sidenav-mobile":"",v.value?"sidenav-show":""])},[v.value?(c(),h("button",{key:0,onClick:M,class:d([t(e).textTheme,"navmob-dismiss"]),type:"button"},[i(p,{icon:"arrow-left"})],2)):f("",!0),a("div",pe,[i(ee,{"site-name":t(q).appName},null,8,["site-name"])]),l[3]||(l[3]=a("div",{class:"separator"},null,-1)),a("div",fe,[i(me,{onClickSignOut:H,"text-theme":t(e).textTheme},null,8,["text-theme"])]),a("span",ye,[a("i",null,[N("Copyright © "+y(t(L)().format("YYYY"))+" ",1),l[1]||(l[1]=a("b",null,"FOL Jambi Data Center",-1)),l[2]||(l[2]=N(" all rights reserved"))])])],2)):f("",!0),i(te,{visible:_.value,"onUpdate:visible":l[0]||(l[0]=b=>_.value=b)},null,8,["visible"]),a("div",{id:"mainview",class:d([`${t(e).asideVisible?"main-wrapper":"main-wrapper-full"}`,s.value?"main-wrapper-mobile":""])},[se(n.$slots,"default")],2),D.value?(c(),h("button",{key:1,onClick:P,style:g({backgroundColor:t(e).accentColor}),type:"button",class:"scrolltotop"},[i(p,{icon:"arrow-up"})],4)):f("",!0)],64)}}}),Se=x({__name:"DashDefault",setup(o){const m=T();return(e,u)=>{const s=k("RouterView");return c(),V(ke,{theme:t(m).mTheme},{default:B(()=>[i(s)]),_:1},8,["theme"])}}});export{Se as default};
