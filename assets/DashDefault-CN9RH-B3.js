import{l as X,_ as Z,B as ee,a as te}from"./ThemeSetting.vue_vue_type_style_index_0_lang-DuAnqxgj.js";import{u as T}from"./index-cPYpxCiT.js";import{d as x,c as v,n as d,a as s,r as k,o as c,b as A,w as B,e as a,f as g,u as e,t as y,F as j,g as r,h as E,i as ne,j as ae,k as f,l as I,m as oe,p as q,q as se,s as ie}from"./index-CusKfgHS.js";import{l as le}from"./index-TjCxX7sJ.js";import{h as V}from"./moment-C5S46NFB.js";import"./http-cNaCE5ub.js";const Y=x({__name:"TopNavAnchor",props:{icon:{type:String,required:!0},textTheme:{type:String}},setup(o){return(m,t)=>{const u=k("font-awesome-icon");return c(),v("a",{href:"javascript:void(0)",class:d([o.textTheme?o.textTheme:"text-light","topnav-item"])},[s(u,{icon:o.icon},null,8,["icon"])],2)}}}),re={key:1,href:"javascript:void(0)",class:"navitem-item","active-class":"navitem-active"},L=x({__name:"NavItem",props:{icon:{type:String,required:!0},menuName:{type:String,required:!0},redirect:{type:String,required:!0},textTheme:{type:String,default:"mtext-light"},isNegative:{type:Boolean,required:!1}},setup(o){const m=T();return(t,u)=>{const i=k("font-awesome-icon"),h=k("router-link");return o.redirect?(c(),A(h,{key:0,to:o.redirect,class:"navitem-item","active-class":"navitem-active"},{default:B(()=>[a("div",{style:g({background:`linear-gradient(-310deg,${e(m).accentColor},${e(m).accentColorSecondary})`})},[s(i,{icon:o.icon},null,8,["icon"])],4),a("span",{class:d(o.isNegative?"mtext-danger":o.textTheme)},y(o.menuName),3)]),_:1},8,["to"])):(c(),v("a",re,[a("div",{style:g({background:`linear-gradient(-310deg,${e(m).accentColor},${e(m).accentColorSecondary})`})},[s(i,{icon:o.icon},null,8,["icon"])],4),a("span",{class:d(o.isNegative?"mtext-danger":o.textTheme)},y(o.menuName),3)]))}}}),ce=x({__name:"DashSidebarMenu",props:{textTheme:{type:String,required:!0}},emits:["clickSignOut"],setup(o,{emit:m}){const t=T(),u=()=>{t.notifyConfirm("Logout","Anda yakin ingin keluar?","Ya","Batal",async()=>{localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("auth"),localStorage.removeItem("user"),window.location.href="/"},()=>{})};return(i,h)=>(c(),v(j,null,[s(L,{"text-theme":`${o.textTheme}`,icon:"home",redirect:"/dashboard","menu-name":"Dashboard"},null,8,["text-theme"]),a("div",{style:g({color:e(t).accentColor}),class:"aside-menu-divider"},"FOL",4),s(L,{"text-theme":`${o.textTheme}`,icon:"chart-line",redirect:"/fol/monitoring","menu-name":"Monitoring FOL"},null,8,["text-theme"]),a("div",{style:g({color:e(t).accentColor}),class:"aside-menu-divider"},"Keluar",4),s(L,{"text-theme":`${o.textTheme}`,icon:"sign-out",redirect:"","is-negative":!0,"menu-name":"Sign-out",onClick:u},null,8,["text-theme"])],64))}}),me={style:{display:"flex","flex-flow":"row-nowrap","justify-content":"flex-start",gap:"1rem","align-items":"center"}},ue=["src"],de={class:"nav-gr"},ve={class:"nav-crumb"},he={class:"nav-gr"},ge={class:"aside-header"},pe={class:"aside-menu"},fe={class:"copyright"},ye=x({__name:"DashNavLight",props:{theme:{type:String}},setup(o){const m=oe(),t=T(),u=le("https://chatbot.findingoillosses.com",{path:"/socket.io"});u.on("connect",()=>{t.notifyShow("Connected to FOL AI")});const i=r(!1),h=r(!1),_=r(!1);r(!0);const F=()=>{i.value=window.innerWidth<768},W=n=>{console.log(n)},z=()=>{_.value=!_.value},M=()=>{h.value=!h.value},O=r(0),H=()=>{O.value=window.scrollY||window.pageYOffset};E(()=>{window.addEventListener("scroll",H)});const P=()=>{const n=document.getElementById("mainview");n&&n.scrollIntoView({behavior:"smooth",block:"start"})},U=()=>{t.asideToggle()};ne(()=>i.value,()=>{i.value&&t.notifyAlertError("Peringatan","Tidak sarankan dijalankan pada perangkat Mobile karena dapat mempengaruhi performa","Tutup",()=>{})});const C=r([{id:1,mychat:!1,name:"FOL AI",lastMessage:"Halo, Wak! Aku FOL AI siap bantu analisis data!",time:V().format("hh:mm")}]),S=r([]),$=r(null),J=()=>{ie(()=>{$.value&&($.value.scrollTop=$.value.scrollHeight)})},K=r("");r("");const D=r(null);u.on("botReplyChunk",n=>{const l=C.value.length-1;C.value[l].lastMessage+=n,J()}),u.on("botReply",n=>{C.value.push({mychat:!1,name:"Me",type:"text",lastMessage:n,image:null,time:V().format("hh:mm")}),S.value.push({role:"system",content:n})}),u.on("botReplyEnd",n=>{S.value.push({role:"system",content:n}),console.log(S.value)}),u.on("formattedReply",n=>{}),E(()=>{var n;F(),window.addEventListener("resize",F),(n=D.value)==null||n.addEventListener("paste",R)}),ae(()=>{var n;(n=D.value)==null||n.removeEventListener("paste",R)});const G=r(null),R=n=>{var p;const l=(p=n.clipboardData)==null?void 0:p.items;if(l){for(const w of l)if(w.type.includes("image")){const b=w.getAsFile();if(!b)return;const N=new FileReader;N.onload=()=>{const Q=N.result;K.value=Q,G.value=b},N.readAsDataURL(b)}}};return(n,l)=>{const p=k("font-awesome-icon"),w=k("router-link");return c(),v(j,null,[a("nav",{class:d([`${e(t).asideVisible?"nav-main":"nav-main-full"}`,e(t).mTheme,i.value?"topnav-mobile":""])},[a("div",me,[i.value?f("",!0):(c(),v("button",{key:0,onClick:U,class:d([[`${e(t).textTheme}`],"side-hide"])},[s(p,{icon:e(t).asideVisible?"arrow-left":"bars"},null,8,["icon"])],2)),e(t).asideVisible?f("",!0):(c(),v("img",{key:1,src:e(X),class:"prt-1"},null,8,ue))]),a("div",de,[a("div",ve,[a("div",{class:d(e(t).textTheme)},[s(w,{to:"/dashboard",style:g({color:e(t).accentColor}),class:"nav-crumb-link"},{default:B(()=>[a("span",{style:g({background:e(t).gradientValue,WebkitTextFillColor:"transparent",WebkitBackgroundClip:"text"})},y(e(q).appName),5)]),_:1},8,["style"]),I(" ··· "+y(e(m).name),1)],2),a("div",{class:d(e(t).textTheme)},y(e(m).name),3)])]),a("div",he,[i.value?(c(),A(Y,{key:0,onClick:M,icon:"bars","text-theme":e(t).textTheme},null,8,["text-theme"])):f("",!0),s(Z,{style:{"margin-right":"5px"}}),s(Y,{onClick:z,icon:"gear","text-theme":e(t).textTheme},null,8,["text-theme"])])],2),e(t).asideVisible?(c(),v("aside",{key:0,class:d(["aside-main",e(t).mTheme,i.value?"sidenav-mobile":"",h.value?"sidenav-show":""])},[h.value?(c(),v("button",{key:0,onClick:M,class:d([e(t).textTheme,"navmob-dismiss"]),type:"button"},[s(p,{icon:"arrow-left"})],2)):f("",!0),a("div",ge,[s(ee,{"site-name":e(q).appName},null,8,["site-name"])]),l[3]||(l[3]=a("div",{class:"separator"},null,-1)),a("div",pe,[s(ce,{onClickSignOut:W,"text-theme":e(t).textTheme},null,8,["text-theme"])]),a("span",fe,[a("i",null,[I("Copyright © "+y(e(V)().format("YYYY"))+" ",1),l[1]||(l[1]=a("b",null,"FOL Jambi Data Center",-1)),l[2]||(l[2]=I(" all rights reserved"))])])],2)):f("",!0),s(te,{visible:_.value,"onUpdate:visible":l[0]||(l[0]=b=>_.value=b)},null,8,["visible"]),a("div",{id:"mainview",class:d([`${e(t).asideVisible?"main-wrapper":"main-wrapper-full"}`,i.value?"main-wrapper-mobile":""])},[se(n.$slots,"default")],2),O.value?(c(),v("button",{key:1,onClick:P,style:g({backgroundColor:e(t).accentColor}),type:"button",class:"scrolltotop"},[s(p,{icon:"arrow-up"})],4)):f("",!0)],64)}}}),Ce=x({__name:"DashDefault",setup(o){const m=T();return(t,u)=>{const i=k("RouterView");return c(),A(ye,{theme:e(m).mTheme},{default:B(()=>[s(i)]),_:1},8,["theme"])}}});export{Ce as default};
